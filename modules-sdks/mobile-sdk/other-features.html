<!DOCTYPE html>
<html lang="en-US">
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Mobile SDK – Other Features">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="Mobile SDK – Other Features">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="/icons/mstile-144x144.png">
        <meta property="og:type" value="website">
        <meta property="og:url" value="https://developer.swedbankpay.com/modules-sdks/mobile-sdk/other-features.html">
        <meta property="og:title" value="Mobile SDK – Other Features">
        <meta name="title" content="Mobile SDK – Other Features">
        <meta property="og:description" value="Swedbank Pay Developer Portal">
        <meta name="description" content="Swedbank Pay Developer Portal">
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png">
        <title>Mobile SDK – Other Features</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/5.0.1/styles/dg-style.css">
        <link rel="stylesheet" href="/assets/css/style.css">
        <link rel="stylesheet" href="/assets/css/pygments-autumn.css">
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/5.0.1/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/5.0.1/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/5.0.1/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/5.0.1/icons/coast-228x228.png">
        <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Other Features">
<link rel="apple-touch-icon" sizes="57x57" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="167x167" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-167x167.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-180x180.png">
<link rel="apple-touch-icon" sizes="1024x1024" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-icon-1024x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and  (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-320x460.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and  (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-640x920.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and  (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-640x1096.png">
<link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and  (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-750x1294.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1182x2208.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1242x2148.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-748x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-768x1004.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1496x2048.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/5.0.1/icons/apple-touch-startup-image-1536x2008.png">
<script src="/assets/js/mermaid.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
    </head>

    <body>
        <div id="designguide">
            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-lg-3 pr-0">
                        <div class="sidebar dg-sidebar">
                            <nav class="sidebar-nav">
                                <a href="/" class="sidebar-header">
                                    <img src="https://design.swedbankpay.com/v/5.0.1/img/swedbankpay-logo-v.svg" alt="Swedbank Pay vertical logo" class="logotype-vertical logotype-lg">
                                    <div class="sidebar-header-text">
                                        <span>{</span>developer portal<span>}</span>
                                    </div>
                                </a>
                                
                                <form class="search-container mx-2 my-4 px-3 py-2 d-flex" method="get" action="/search">
                                    <input name="q" type="text" id="tipue_search_input" class="search-input w-100 " placeholder="Search in documentation" onfocus="this.placeholder=''" onblur="this.placeholder='Search in documentation'" pattern=".{3,}" title="At least 3 characters">
                                    <button class="mb-0">
                                        <i class="material-icons m-0" aria-hidden="true">search</i>
                                    </button>
                                </form>
                                
                                <ul id="dx-sidebar-main-nav-ul" class="main-nav-ul">
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Introduction</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/introduction#foundation">Foundation</a></li>
<li class="nav-leaf"><a href="/introduction#connection-and-protocol">Connection and Protocol</a></li>
<li class="nav-leaf"><a href="/introduction#postels-robustness-principle">Postel’s Robustness Principle</a></li>
<li class="nav-leaf"><a href="/introduction#headers">Headers</a></li>
<li class="nav-leaf"><a href="/introduction#uri-usage">URI Usage</a></li>
<li class="nav-leaf"><a href="/introduction#uniform-responses">Uniform Responses</a></li>
<li class="nav-leaf"><a href="/introduction#expansion">Expansion</a></li>
<li class="nav-leaf"><a href="/introduction#data-types">Data Types</a></li>
<li class="nav-leaf"><a href="/introduction#operations">Operations</a></li>
<li class="nav-leaf"><a href="/introduction#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/introduction#callback">Callback</a></li>
<li class="nav-leaf"><a href="/introduction#problems">Problems</a></li>
        
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Checkout</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/checkout/#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/checkout/#languages">Languages</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/checkin">Checkin</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/checkin#step-1-initiate-session-for-consumer-identification">Step 1: Initiate session for consumer identification</a></li>
<li class="nav-leaf"><a href="/checkout/checkin#step-2-display-swedbank-pay-checkin-module">Step 2: Display Swedbank Pay Checkin module</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/payment-menu">Payment Menu</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/payment-menu#step-3-create-payment-order">Step 3: Create Payment Order</a></li>
<li class="nav-leaf"><a href="/checkout/payment-menu#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/checkout/payment-menu#step-4-display-the-payment-menu">Step 4: Display the Payment Menu</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/capture#step-5-capture-the-funds">Step 5: Capture the funds</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/after-payment#operations">Operations</a></li>
<li class="nav-leaf"><a href="/checkout/after-payment#cancel">Cancel</a></li>
<li class="nav-leaf"><a href="/checkout/after-payment#reversal">Reversal</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/checkout/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/checkout/other-features#payment-orders">Payment Orders</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#operations">Operations</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payment-order-state">Payment Order State</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#recurring-payments">Recurring Payments</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#delete-recurrencetoken">Delete recurrenceToken</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#purchase-payments">Purchase Payments</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#verify-payments">Verify Payments</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payments-resource">Payments Resource</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#custom-logo">Custom Logo</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#checkin-events">Checkin Events</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payment-menu-events">Payment Menu Events</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#delegated-strong-consumer-authentication">Delegated Strong Consumer Authentication</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#3-d-secure-2">3-D Secure 2</a></li>
<li class="nav-leaf"><a href="/checkout/other-features#updating-payment-menu">Updating Payment Menu</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Payment Instruments</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/payment-instruments/#platform-options">Platform options</a></li>
<li class="nav-leaf"><a href="/payment-instruments/#the-fundamentals">The Fundamentals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/#the-payment-object">The Payment Object</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/">Card</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/card/#operations">Operations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/#intent">Intent</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/#purchase-flow">Purchase Flow</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#step-1-create-payment">Step 1: Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#step-2-display-the-payment">Step 2: Display the Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/seamless-view#purchase-flow">Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/direct">Direct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/direct#payment-flow">Payment flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#step-2a-create-authorization-without-3-d-secure-authentication">Step 2a: Create authorization without 3-D Secure authentication</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#step-2b-create-authorization-with-3-d-secure-authentication">Step 2b: Create authorization with 3-D Secure authentication</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/direct#options-after-posting-a-purchase-payment">Options after posting a purchase payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/capture#capture">Capture</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/mobile-card-payments">Mobile</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/mobile-card-payments#card-payments-in-mobile-apps">Card Payments in Mobile Apps</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/mobile-card-payments#api-requests-for-payments">API Requests for Payments</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/mobile-card-payments#purchase-flow-mobile">Purchase flow mobile</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/after-payment#remove-payment-token">Remove payment token</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/card/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#recur">Recur</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#unscheduled-purchase">Unscheduled Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payout">Payout</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#verify">Verify</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#one-click-payments">One-Click Payments</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#card-authorization-transaction">Card authorization transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#transaction-on-file">Transaction on file</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#3-d-secure-2">3-D Secure 2</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#co-badge-card-choice-for-dankort">Co-badge Card Choice for Dankort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/card/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/">Invoice</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/invoice/#api-requests">API Requests</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/#invoice-flow">Invoice flow</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#step-1-create-a-payment">Step 1: Create a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#invoice-flow">Invoice flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/redirect#options-after-posting-a-payment">Options after posting a payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#step-1-create-the-payment">Step 1: Create the payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#step-2-display-the-payment">Step 2: Display the Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/seamless-view#purchase-flow">Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/direct">Direct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/direct#invoice-direct-implementation-flow">Invoice Direct implementation flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#step-2-get-approvedlegaladdress-confirmation">Step 2: Get approvedLegalAddress confirmation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#step-3-complete-a-payment">Step 3: Complete a Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#invoice-flow">Invoice flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/direct#options-after-posting-a-purchase-payment">Options after posting a purchase payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/capture#capture">Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/capture#step-1-create-financingconsumer-capture">Step 1: Create FinancingConsumer Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/capture#step-2-inspecting-the-captures">Step 2: Inspecting the Captures</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/capture#capture-flow">Capture Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/after-payment#reversals">Reversals</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/invoice/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#api-requests">API requests</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#financing-consumer">Financing Consumer</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#recur">Recur</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#delete-recurrencetoken">Delete recurrenceToken</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#verify">Verify</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/invoice/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/">Swish</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/swish/#payment-flow">Payment Flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/#good-to-know">Good To Know</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/#languages">Languages</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/direct">Direct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/direct#payment-flow">Payment Flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-2a-create-e-commerce-sale-transaction">Step 2a: Create E-Commerce Sale Transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#e-commerce-purchase-flow">E-Commerce Purchase Flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-2b-create-m-commerce-sale-transaction">Step 2b: Create M-Commerce Sale Transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#step-3-get-the-payment-status">Step 3: Get the payment status</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/direct#m-commerce-purchase-flow">M-Commerce Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/redirect#redirect-purchase-flow">Redirect Purchase flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#swish-seamless-view-integration-flow">Swish Seamless View integration flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#step-2-display-the-payment-window">Step 2: Display the Payment Window</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/seamless-view#seamless-view-purchase-flow">Seamless View Purchase flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#swish-transactions">Swish transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#sales">Sales</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#capture">Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#cancel">Cancel</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/after-payment#recurring">Recurring</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/swish/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/swish/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/">Vipps</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/vipps/#purchase-flow">Purchase flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/#good-to-know">Good To Know</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/#languages">Languages</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#step-2-authorization">Step 2: Authorization</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#step-3-get-the-transaction-state">Step 3: Get the transaction state</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/redirect#vipps-redirect-integration-flow">Vipps Redirect integration flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#step-2-display-the-payment-window">Step 2: Display the payment window</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/seamless-view#vipps-seamless-view-integration-flow">Vipps Seamless View integration flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/capture#capture">Capture</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#operations">Operations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#vipps-transactions">Vipps transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#authorizations">Authorizations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#create-cancellation-transaction">Create cancellation transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/after-payment#abort">Abort</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/vipps/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payment-url">Payment Url</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#payee-reference-1">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#seamless-view-events">Seamless View Events</a></li>
<li class="nav-leaf"><a href="/payment-instruments/vipps/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/">MobilePay Online</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#purchase-flow">Purchase flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#good-to-know">Good To Know</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/#payment-availability">Payment availability</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#mobilepay-online-redirect-integration-flow">MobilePay Online redirect integration flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#step-2-get-the-transaction-status">Step 2: Get the transaction status</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/redirect#purchase-flow">Purchase flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/seamless-view#step-1-create-a-purchase">Step 1: Create a purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/seamless-view#step-2-display--the-payment-window">Step 2: Display  the payment window</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/seamless-view#mobilepay-online-seamless-view-flow">MobilePay Online Seamless View flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/capture">Capture</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/capture#capture">Capture</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/capture#create-capture-transaction">Create capture transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/capture#capture-sequence">Capture Sequence</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#cancel-sequence">Cancel Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#create-reversal-transaction">Create reversal transaction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#reversal-sequence">Reversal Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/after-payment#abort">Abort</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/mobile-pay/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#operations-1">Operations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#mobilepay-online-transactions">MobilePay Online transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#authorizations">Authorizations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#captures">Captures</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#cancellations">Cancellations</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#reversals">Reversals</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#capture-sequence">Capture Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#cancel-sequence">Cancel Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#reversal-sequence">Reversal Sequence</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#prices">Prices</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/mobile-pay/other-features#problems">Problems</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/">Trustly</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/payment-instruments/trustly/#payment-type">Payment Type</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/#languages">Languages</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/#banks">Banks</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/redirect">Redirect</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#step-1-create-a-payment">Step 1: Create a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#trustly-flow">Trustly flow</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/redirect#options-after-posting-a-payment">Options after posting a payment</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/seamless-view">Seamless View</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#step-1-create-the-payment">Step 1: Create the payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#step-2-display-the-payment">Step 2: Display the Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/seamless-view#purchase-flow">Purchase Flow</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/after-payment">After Payment</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/after-payment#options-after-posting-a-payment">Options after posting a payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/after-payment#abort">Abort</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/after-payment#reversals">Reversals</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/trustly/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payment-resource">Payment Resource</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payment-and-transaction-states">Payment And Transaction States</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payment-state">Payment State</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#create-payment">Create Payment</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#transactions">Transactions</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#callback">Callback</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#completeurl">CompleteUrl</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#description">Description</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payeeinfo">PayeeInfo</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#payee-reference">Payee Reference</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#settlement-and-reconciliation">Settlement and Reconciliation</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#metadata">Metadata</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/payment-instruments/trustly/other-features#seamless-view-events">Seamless View Events</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/payment-instruments/payment-link">Payment Link</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/payment-instruments/payment-link">Payment Link</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Gift Cards</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/#overview">Overview</a></li>
<li class="nav-leaf"><a href="/gift-cards/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/gift-cards/#implementation">Implementation</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/operations">Operations</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/operations#gift-card-resource">Gift card resource</a></li>
<li class="nav-leaf"><a href="/gift-cards/operations#get-new-gift-card">Get New Gift Card</a></li>
<li class="nav-leaf"><a href="/gift-cards/operations#pre-deposit">Pre Deposit</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/security">Security</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/security#oauth2">OAuth2</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#hmac">HMAC</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#security-documentation">Security Documentation</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#test-client">Test client</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/test-client">Test Client</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/test-client#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#project-setup">Project setup</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#first-app-run">First App run</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#testing-application">Testing application</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#build-docker-image">Build docker image</a></li>
<li class="nav-leaf"><a href="/gift-cards/test-client#deploy-to-local-docker">Deploy to local docker</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/gift-cards/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/gift-cards/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#deposit">Deposit</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#balance">Balance</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#authentication">Authentication</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group active">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Modules &amp; SDKs</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/modules-sdks/#official-modules">Official Modules</a></li>
<li class="nav-leaf"><a href="/modules-sdks/#official-sdks">Official SDKs</a></li>
<li class="nav-leaf"><a href="/modules-sdks/#official-libraries">Official Libraries</a></li>
</ul>
      </li>
        <li class="nav-subgroup active">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/">Mobile SDK</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/#introduction">Introduction</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/configuration">Configuration</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/configuration#ios">iOS</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/configuration#android">Android</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/configuration#backend">Backend</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/merchant-backend">Merchant Backend</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#authentication-and-authorization">Authentication and Authorization</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#the-merchant-backend-configuration">The Merchant Backend Configuration</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#root-endpoint">Root Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#consumers-endpoint">Consumers Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#payment-orders-endpoint">Payment Orders Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#set-instrument-endpoint">Set Instrument Endpoint</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#payment-url-helper-endpoints">Payment Url Helper Endpoints</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend#problems">Problems</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/merchant-backend-sample-code">Merchant Backend Sample Code</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/modules-sdks/mobile-sdk/merchant-backend-sample-code">Merchant Backend Sample Code</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/android">Android</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#installation">Installation</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#usage">Usage</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#errors">Errors</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#problems">Problems</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/android#payment-url-and-external-applications">Payment URL and External Applications</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/ios">iOS</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#installation">Installation</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#usage">Usage</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#problems">Problems</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/ios#payment-url-and-external-applications">Payment URL and External Applications</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/custom-backend">Custom Backend</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#basic-backend-requirements">Basic Backend Requirements</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#android-configuration">Android Configuration</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#ios-configuration">iOS Configuration</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#backend">Backend</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#updating-a-payment-order">Updating a Payment Order</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#errors">Errors</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/custom-backend#other-features">Other Features</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup active">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/other-features">Other Features</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#payment-orders">Payment Orders</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#instrument-mode">Instrument Mode</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#payer-aware-payment-menu">Payer Aware Payment Menu</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#purchase-payments">Purchase Payments</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#verify-payments">Verify Payments</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#observing-the-payment-process">Observing the Payment Process</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#problems">Problems</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#android-view-model-provider-key">Android: View Model Provider Key</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#android-default-ui">Android: Default UI</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/other-features#debugging-features">Debugging Features</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/process-diagrams">Process Diagrams</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#initialization">Initialization</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#merchant-backend-discover-endpoints">Merchant Backend: Discover Endpoints</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#optional-checkin">Optional Checkin</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#begin-checkout">Begin Checkout</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#external-content">External Content</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/process-diagrams#payment-completion">Payment Completion</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/modules-sdks/mobile-sdk/plain-webview">Plain Webview</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#quick-fix-list">Quick Fix List</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#the-mobile-sdk-and-you">The Mobile SDK And You</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#basics">Basics</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#completion">Completion</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#external-applications">External Applications</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#getting-back-from-external-applications">Getting Back from External Applications</a></li>
<li class="nav-leaf"><a href="/modules-sdks/mobile-sdk/plain-webview#dealing-with-picky-web-pages">Dealing with Picky Web Pages</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-group">
        <div class="nav-group-heading">
          <i class="material-icons">arrow_right</i>
          <span>Resources</span>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/resources/#test-data">Test Data</a></li>
<li class="nav-leaf"><a href="/resources/#demoshop">Demoshop</a></li>
<li class="nav-leaf"><a href="/resources/#open-source-development-guidelines">Open Source Development Guidelines</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/demoshop">Demoshop</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/resources/demoshop">Demoshop</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/public-migration-key">Public Migration Key</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/resources/public-migration-key">Public Migration Key</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/terminology">Terminology</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf nav-subgroup-leaf"><a href="/resources/terminology">Terminology</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/data-protection">Data Protection</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/data-protection#paymentorder-consumer-data">Paymentorder consumer data</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/">Open Source Development Guidelines</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/">Introduction</a>
        </div>
        <ul class="nav-ul">
<li class="nav-leaf"><a href="/resources/development-guidelines/#principles">Principles</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#licensing">Licensing</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#copyright">Copyright</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#how-to-contribute">How to Contribute</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#code-of-conduct">Code of Conduct</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/#release-management">Release Management</a></li>
</ul>
      </li>
        <li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/code-of-conduct">Code Of Conduct</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/code-of-conduct#contributor-code-of-conduct">Contributor Code of Conduct</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/contributing">Contributing</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/contributing#how-to-contribute">How to contribute</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/contributing#getting-started">Getting Started</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/contributing#making-changes">Making Changes</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/good-commit-practice">Good Commit Practice</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#executive-summary">Executive Summary</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#structural-split-of-changes">Structural split of changes</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#things-to-avoid-when-creating-commits">Things to avoid when creating commits</a></li>
<li class="nav-leaf"><a href="/resources/development-guidelines/good-commit-practice#information-in-commit-messages">Information in commit messages</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/development-guidelines/license">License</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/development-guidelines/license#licensing">Licensing</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/release-notes">Release Notes</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/release-notes#26-jan-2021">26 Jan 2021</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-dec-2020">01 Dec 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#12-nov-2020">12 Nov 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#11-nov-2020">11 Nov 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#04-sep-2020">04 Sep 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#28-aug-2020">28 Aug 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#21-aug-2020">21 Aug 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#17-jul-2020">17 Jul 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#10-jul-2020">10 Jul 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#07-jul-2020">07 Jul 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#04-jun-2020">04 Jun 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#29-may-2020">29 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#22-may-2020">22 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#14-may-2020">14 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#07-may-2020">07 May 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#22-apr-2020">22 Apr 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#15-apr-2020">15 Apr 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#31-mar-2020">31 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#18-mar-2020">18 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#04-mar-2020">04 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#03-mar-2020">03 Mar 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#27-feb-2020">27 Feb 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#7-feb-2020">7 Feb 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#6-feb-2020">6 Feb 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#29-jan-2020">29 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#27-jan-2020">27 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#16-jan-2020">16 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#09-jan-2020">09 Jan 2020</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#22-dec-2019">22 Dec 2019</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-nov-2019">01 Nov 2019</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-oct-2019">01 Oct 2019</a></li>
<li class="nav-leaf"><a href="/resources/release-notes#01-aug-2019">01 Aug 2019</a></li>
        
      </ul>
      </li>
<li class="nav-subgroup">
        <div class="nav-subgroup-heading">
          <i class="material-icons">arrow_right</i>
          <a href="/resources/test-data">Test Data</a>
        </div>
        <ul class="nav-ul">
        <li class="nav-leaf"><a href="/resources/test-data#swedbank-pay-checkout-test-data">Swedbank Pay Checkout Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#credit-card-test-data">Credit Card Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#failure-testing">Failure Testing</a></li>
<li class="nav-leaf"><a href="/resources/test-data#invoice-test-data">Invoice Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#invoice-service-test-data">Invoice Service Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#vipps-test-data">Vipps Test Data</a></li>
<li class="nav-leaf"><a href="/resources/test-data#swish-test-data">Swish Test Data</a></li>
        
      </ul>
      </li>
      </ul>
      </li>
</ul>
                            </nav>
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-lg-9">
                        
                            





<div class="title-header">
    <div class="title-header-container max-width">
        
            <h4>Mobile SDK</h4>
        

        <h1>Other Features</h1>

        
            <div class="title-header-estimated-read">
                <i class="material-icons">schedule</i>
                20 min read
            </div>
        

        
            <p></p>
<p>The SDK supports more features than the basic ones needed for integration.
This page explores those.</p>

        
    </div>

    

<a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/master/modules-sdks/mobile-sdk/other-features.md" class="github" target="_blank" rel="noopener noreferrer" title="Edit 'Other Features' on GitHub">
    <svg aria-labelledby="simpleicons-github-icon" role="img" width="40" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <title id="simpleicons-github-icon">Edit "Other Features" on GitHub</title>
        <path fill="#fff" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path>
    </svg>
</a>

</div>

                        
                        <div class="doc-container normal-padding max-width
                            ">
                            <article>
                                <div class="alert alert-complex alert-warning">
<header class="alert-header">
        
        <i class="material-icons alert-icon">warning</i>
      <h3>
        
        
          Unsupported
        
        
      </h3></header>
    

    
    
    <div class="alert-body">
        <p>The SDK is at an early stage of development
and is not supported as of yet by Swedbank Pay. It is provided as a
convenience to speed up your development, so please feel free to play around.
However, if you need support, please wait for a future, stable release.</p>
    </div>
    
    
</div>
    
      <h2 id="payment-orders">
        
        
          Payment Orders <a href="#payment-orders" class="header-anchor"></a>
        
        
      </h2>

<p>The SDK works in terms of Payment Orders as used in <a href="/checkout/">Checkout</a>
and <a href="/payment-menu/">Payment Menu</a>. Therefore, all <a href="/checkout/other-features">features</a>
of payment orders are available in the SDK by using a suitable custom
configuration.</p>

<p>The rest of the page illustrates how to use certain Payment Order features
with the SDK-provided Merchant Backend Configuration. Detailed descriptions
of the features will not be repeated here; please refer to the
<a href="/checkout/other-features">Checkout documentation</a> instead.</p>
    
      <h3 id="urls">
        
        
          URLs <a href="#urls" class="header-anchor"></a>
        
        
      </h3>

<p>A Payment Order created for the SDK must have <a href="/checkout/other-features#urls"><code class="language-html highlighter-rouge">urls</code></a> the same
way a Payment Order to be used on a web page would. The SDK context places some
requirement on these urls.</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">SDK Requirements</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">hostUrls</code></td>
      <td style="text-align: left">Should match the value your Configuration returns in the <code class="language-html highlighter-rouge">webViewBaseURL</code> of <code class="language-html highlighter-rouge">ViewPaymentOrderInfo</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left">No special requirements. However, the SDK will intercept the navigation, so <code class="language-html highlighter-rouge">completeUrl</code> will not actually be opened in the SDK Web View.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">termsOfServiceUrl</code></td>
      <td style="text-align: left">No special requirements.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left">No special requirements. However, the SDK will intercept the navigation, so <code class="language-html highlighter-rouge">cancelUrl</code> will not actually be opened in the SDK Web View.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">paymentUrl</code></td>
      <td style="text-align: left">If opened in a browser, must eventually be delivered to the SDK, bringing the containing app to the foreground. See the Android and iOS specific documentation.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left">No special requirements. This is a server-to-server affair.</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="merchant-backend-configuration">
        
        
          Merchant Backend Configuration <a href="#merchant-backend-configuration" class="header-anchor"></a>
        
        
      </h4>

<p>The SDK-provided Merchant Backend Configuration allows creating a set of <code class="language-html highlighter-rouge">urls</code>
that fulfill the above when used with a backend implementing the Merchant
Backend API.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="code-view-code"><pre><span class="c1">// backendUrl is the the backendUrl of your MerchantBackendConfiguration</span>
<span class="kd">val</span> <span class="py">urls</span> <span class="p">=</span> <span class="nc">PaymentOrderUrls</span><span class="p">(</span>
    <span class="n">context</span> <span class="p">=</span> <span class="n">context</span><span class="p">,</span>
    <span class="n">backendUrl</span> <span class="p">=</span> <span class="n">backendUrl</span>
    <span class="n">callbackUrl</span> <span class="p">=</span> <span class="n">callbackUrl</span><span class="p">,</span>
    <span class="n">termsOfServiceUrl</span> <span class="p">=</span> <span class="n">termsOfServiceUrl</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code-view-code"><pre><span class="c1">// On iOS, the `paymentUrl` has a nonnegligible chance of actually being shown in Safari,</span>
<span class="c1">// so we want to localize it. This is why we need the language parameter here.</span>
<span class="n">let</span> <span class="n">urls</span> <span class="p">=</span> <span class="nc">SwedbankPaySDK</span><span class="p">.</span><span class="nc">PaymentOrderUrls</span><span class="p">(</span>
    <span class="n">configuration</span><span class="p">:</span> <span class="n">configuration</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
    <span class="n">callbackUrl</span><span class="p">:</span> <span class="n">callbackUrl</span><span class="p">,</span>
    <span class="n">termsOfServiceUrl</span><span class="p">:</span> <span class="n">termsOfServiceUrl</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="order-items">
        
        
          Order Items <a href="#order-items" class="header-anchor"></a>
        
        
      </h3>

<p>You may want to populate the <code class="language-html highlighter-rouge">orderItems</code> field of the <code class="language-html highlighter-rouge">paymentOrder</code> for e.g.
printing invoices. The SDK offers facilities for working with <code class="language-html highlighter-rouge">orderItems</code>,
allowing you to discover the fields of an Order Item in your IDE.</p>

<p>Please refer to the <a href="/checkout/other-features#order-items">Checkout documentation</a> and/or the
class documentation for the meaning of the fields.</p>

<p>On Android, <code class="language-html highlighter-rouge">OrderItem</code> is a data class, so its instances are immutable,
but you can easily create copies with modified fields.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">orderItem</span> <span class="p">=</span> <span class="nc">OrderItem</span><span class="p">(</span>
    <span class="n">reference</span> <span class="p">=</span> <span class="s">"123abc"</span><span class="p">,</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"Thing"</span><span class="p">,</span>
    <span class="c1">// ItemType is a enum, allowing you to discover the options in your IDE</span>
    <span class="n">type</span> <span class="p">=</span> <span class="nc">ItemType</span><span class="p">.</span><span class="nc">PRODUCT</span><span class="p">,</span>
    <span class="n">`class`</span> <span class="p">=</span> <span class="s">"Things"</span><span class="p">,</span>
    <span class="c1">// Optional Order Item fields are optional in the kotlin OrderItem class as well.</span>
    <span class="c1">// The optional fields default to null, so you do not need to specify them if</span>
    <span class="c1">// you do not use them.</span>
    <span class="n">itemUrl</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
    <span class="n">quantity</span> <span class="p">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">quantityUnit</span> <span class="p">=</span> <span class="s">"pcs"</span><span class="p">,</span>
    <span class="n">unitPrice</span> <span class="p">=</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="n">vatPercent</span> <span class="p">=</span> <span class="mi">2500</span> <span class="c1">// 25%,</span>
    <span class="n">amount</span> <span class="p">=</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="n">vatAmount</span> <span class="p">=</span> <span class="mi">200</span>
<span class="p">)</span>

<span class="c1">// OrderItem is immutable, but easy to create partially modified copies of</span>
<span class="kd">val</span> <span class="py">otherItem</span> <span class="p">=</span> <span class="n">orderItem</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span>
    <span class="n">reference</span> <span class="p">=</span> <span class="s">"456def"</span><span class="p">,</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"Other Thing"</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>On iOS <code class="language-html highlighter-rouge">SwedbankPaySDK.OrderItem</code> is a struct, allowing you to store and modify
them like any other Swift values.</p>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
<td class="code-view-code"><pre><span class="k">var</span> <span class="nv">orderItem</span> <span class="o">=</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">OrderItem</span><span class="p">(</span>
    <span class="nv">reference</span><span class="p">:</span> <span class="s">"123abc"</span><span class="p">,</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"Thing"</span><span class="p">,</span>
    <span class="c1">// SwedbankPaySDK.ItemType is a enum, allowing you to discover the options in your IDE</span>
    <span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="kt">Product</span><span class="p">,</span>
    <span class="nv">class</span><span class="p">:</span> <span class="s">"Things"</span><span class="p">,</span>
    <span class="nv">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nv">quantityUnit</span><span class="p">:</span> <span class="s">"pcs"</span><span class="p">,</span>
    <span class="nv">unitPrice</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="nv">vatPercent</span><span class="p">:</span> <span class="mi">2500</span> <span class="c1">// 25%,</span>
    <span class="nv">amount</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="nv">vatAmount</span><span class="p">:</span> <span class="mi">200</span>
<span class="p">)</span>

<span class="c1">// a SwedbankPaySDK.OrderItem var is mutable like any var</span>
<span class="n">orderItem</span><span class="o">.</span><span class="n">reference</span> <span class="o">=</span> <span class="s">"456def"</span>
<span class="n">orderItem</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Other Thing"</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="instrument-mode">
        
        
          Instrument Mode <a href="#instrument-mode" class="header-anchor"></a>
        
        
      </h2>

<p>In “Instrument Mode” the Payment Menu will display only one specific payment
instrument instead of all configured on your merchant account. Please refer to
the <a href="/payment-menu/other-features#instrument-mode">Payment Menu documentation</a> for more information on when
you should use this feature.</p>

<p>To use Instrment Mode with a Merchant Backend, set the <code class="language-html highlighter-rouge">instrument</code> field
of your payment order to a non-null value.</p>

<p>On Android, <code class="language-html highlighter-rouge">instrument</code> is a String, but some common instruments are available
int the <code class="language-html highlighter-rouge">PaymentInstruments</code> class:</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentOrder</span> <span class="p">=</span> <span class="nc">PaymentOrder</span><span class="p">(</span>
    <span class="o">..</span><span class="p">.,</span>
    <span class="n">instrument</span> <span class="p">=</span> <span class="nc">PaymentInstruments</span><span class="p">.</span><span class="nc">CREDIT_CARD</span><span class="p">,</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">)</span>

<span class="kd">val</span> <span class="py">otherPaymentOrder</span> <span class="p">=</span> <span class="n">paymentOrder</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span>
    <span class="n">instrument</span> <span class="p">=</span> <span class="s">"SomeInstrument"</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>On iOS, <code class="language-html highlighter-rouge">instrument</code> is an struct that wraps a String, and provides common
instruments as static constants:</p>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentOrder</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="o">.</span><span class="n">creditCard</span>
<span class="n">paymentOrder</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="kt">Instrument</span><span class="p">(</span><span class="nv">rawValue</span><span class="p">:</span> <span class="s">"SomeInstrument"</span><span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="changing-the-instrument">
        
        
          Changing the Instrument <a href="#changing-the-instrument" class="header-anchor"></a>
        
        
      </h3>

<p>If a payment order is created in instrument mode, the Merchant Backend
Configuration will populate the <code class="language-html highlighter-rouge">instrument</code> and <code class="language-html highlighter-rouge">availableInstruments</code>
fields of the <code class="language-html highlighter-rouge">ViewPaymentOrderInfo</code>. This is also recommended to do if using
instrument mode with a custom Configuration. This way, the containing
application can observe the payment process and determine if it is in
instrument mode, and display additional UI accordingly.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td>
<td class="code-view-code"><pre><span class="c1">// paymentViewModel is a property of FragmentActivity</span>
<span class="c1">// lifecycleOwner should usually be viewLifecycleOwner if we are in a Fragment</span>
<span class="n">paymentViewModel</span><span class="p">.</span><span class="n">richState</span><span class="p">.</span><span class="nf">observe</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">{</span> <span class="n">richState</span> <span class="p">-&gt;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">richState</span><span class="o">?.</span><span class="n">viewPaymentOrderInfo</span><span class="o">?.</span><span class="n">instrument</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// show instrument mode UI</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code-view-code"><pre><span class="c1">// paymentOrderDidShow is a part of the protocol SwedbankPaySDKDelegate</span>
<span class="kd">func</span> <span class="nf">paymentOrderDidShow</span><span class="p">(</span><span class="nv">info</span><span class="p">:</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">ViewPaymentOrderInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">instrument</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="c1">// show instrument mode UI</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>To change the instrument of an ongoing payment order, call the
<code class="language-html highlighter-rouge">updatePaymentOrder</code> method. Its argument is passed to your Configuration,
which must know how to interpret it. If using the Merchant Backend
Configuration, the argument should be the new instrument to set.</p>

<p>Your Configuration should report the valid instruments for the ongoing payment
order in the <code class="language-html highlighter-rouge">ViewPaymentOrderInfo.availableInstruments</code> property. Your UI can
observe this property to show only valid options to the user. The Merchant
Backend Configuration populates this field when.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
</pre></td>
<td class="code-view-code"><pre><span class="c1">// On Android, updatePaymentOrder is part of PaymentViewModel</span>
<span class="n">paymentViewModel</span><span class="p">.</span><span class="nf">updatePaymentOrder</span><span class="p">(</span><span class="nc">PaymentInstruments</span><span class="p">.</span><span class="nc">INVOICE</span><span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
</pre></td>
<td class="code-view-code"><pre><span class="c1">// On iOS, updatePaymentOrder is part of SwedbankPaySDKController</span>
<span class="n">swedbankPaySDKController</span><span class="o">.</span><span class="nf">updatePaymentOrder</span><span class="p">(</span><span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">Instrument</span><span class="o">.</span><span class="n">invoice</span><span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>You should, of course, then observe when the update completes, and update your
UI accordingly.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentViewModel</span><span class="p">.</span><span class="n">state</span><span class="p">.</span><span class="nf">observe</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">when</span> <span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
        <span class="nc">UPDATING_PAYMENT_ORDER</span> <span class="p">-&gt;</span> <span class="nf">showUpdatingUI</span><span class="p">()</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="nf">hideUpdatingUI</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
<td class="code-view-code"><pre><span class="nf">showUpdatingUI</span><span class="p">()</span>
<span class="n">swedbankPaySDKController</span><span class="o">.</span><span class="nf">updatePaymentOrder</span><span class="p">(</span><span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">Instrument</span><span class="o">.</span><span class="n">invoice</span><span class="p">)</span>

<span class="c1">// ... elsewhere ...</span>

<span class="c1">// paymentOrderDidShow is a part of the protocol SwedbankPaySDKDelegate</span>
<span class="kd">func</span> <span class="nf">paymentOrderDidShow</span><span class="p">(</span><span class="nv">info</span><span class="p">:</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">ViewPaymentOrderInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...code...</span>
    <span class="nf">hideUpdatingUI</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">updatePaymentOrderFailed</span><span class="p">(</span><span class="nv">updateInfo</span><span class="p">:</span> <span class="kt">Any</span><span class="p">,</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">hideUpdatingUI</span><span class="p">()</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="payer-aware-payment-menu">
        
        
          Payer Aware Payment Menu <a href="#payer-aware-payment-menu" class="header-anchor"></a>
        
        
      </h2>

<p>Using Payer Aware Payment Menu involves managing payment tokens yourself. If
you are using a Merchant Backend, you can have a payment order create payment
tokens by setting the <code class="language-html highlighter-rouge">generatePaymentToken</code> and <code class="language-html highlighter-rouge">payerReference</code> fields of
<code class="language-html highlighter-rouge">PaymentOrder</code> and <code class="language-html highlighter-rouge">PaymentOrderPayer</code>, respectively.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentOrder</span> <span class="p">=</span> <span class="nc">PaymentOrder</span><span class="p">(</span>
    <span class="o">..</span><span class="p">.,</span>
    <span class="n">generatePaymentToken</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">payer</span> <span class="p">=</span> <span class="nc">PaymentOrderPayer</span><span class="p">(</span>
        <span class="n">payerReference</span> <span class="p">=</span> <span class="s">"user1234"</span>
    <span class="p">)</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentOrder</span><span class="o">.</span><span class="n">generatePaymentToken</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">paymentOrder</span><span class="o">.</span><span class="n">payer</span> <span class="o">=</span> <span class="kt">PaymentOrderPayer</span><span class="p">(</span>
    <span class="nv">payerReference</span><span class="p">:</span> <span class="s">"user1234"</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="token-retrieval">
        
        
          Token Retrieval <a href="#token-retrieval" class="header-anchor"></a>
        
        
      </h3>

<p>The SDK contains a utility method to query a conforming Merchant Backend server
for the payment tokens of a particular <code class="language-html highlighter-rouge">payerReference</code>. Of course, you should
have proper authentication in your implementation if you use this
functionality, to prevent unauthorized access to other users’ tokens (the
example implementation has the endpoint disabled by default).</p>

<p>The utility method allows you to add extra header to the request; these can
be useful for implementing authentication.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code-view-code"><pre><span class="c1">// N.B! getPayerOwnedPaymentTokens is a suspending function,</span>
<span class="c1">// so this call must be done inside suspending code.</span>
<span class="c1">// If the backend responds with a Problem, the call will throw</span>
<span class="c1">// a RequestProblemException.</span>
<span class="kd">val</span> <span class="py">response</span> <span class="p">=</span> <span class="nc">MerchantBackend</span><span class="p">.</span><span class="nf">getPayerOwnedPaymentTokens</span><span class="p">(</span>
    <span class="n">context</span><span class="p">,</span>
    <span class="n">configuration</span><span class="p">,</span>
    <span class="n">payerReference</span><span class="p">,</span>
    <span class="s">"ExampleHeader"</span><span class="p">,</span> <span class="s">"ExampleValue"</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
<td class="code-view-code"><pre><span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">MerchantBackend</span><span class="o">.</span><span class="nf">getPayerOwnedPaymentTokens</span><span class="p">(</span>
    <span class="nv">configuration</span><span class="p">:</span> <span class="n">configuration</span><span class="p">,</span>
    <span class="nv">payerReference</span><span class="p">:</span> <span class="n">payerReference</span><span class="p">,</span>
    <span class="nv">extraHeaders</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"ExampleHeader"</span><span class="p">:</span> <span class="s">"ExampleValue"</span>
    <span class="p">]</span>
<span class="p">)</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="c1">// Use result here.</span>
    <span class="c1">// Be prepared for any errors of the type</span>
    <span class="c1">// SwedbankPaySDK.MerchantBackendError.</span>
<span class="p">}</span>
<span class="c1">// If you need to cancel the request before it is complete, call</span>
<span class="c1">// request.cancel()</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="token-use">
        
        
          Token Use <a href="#token-use" class="header-anchor"></a>
        
        
      </h3>

<p>To use a payment token with a Merchant Backend, create a payment order where
you set the <code class="language-html highlighter-rouge">paymentToken</code> field of <code class="language-html highlighter-rouge">PaymentOrder</code> and the <code class="language-html highlighter-rouge">payerReference</code>
field of <code class="language-html highlighter-rouge">PaymentOrderPayer</code>:</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentOrder</span> <span class="p">=</span> <span class="nc">PaymentOrder</span><span class="p">(</span>
    <span class="o">..</span><span class="p">.,</span>
    <span class="n">payer</span> <span class="p">=</span> <span class="nc">PaymentOrderPayer</span><span class="p">(</span>
        <span class="n">payerReference</span> <span class="p">=</span> <span class="s">"user1234"</span>
    <span class="p">)</span>
    <span class="n">paymentToken</span> <span class="p">=</span> <span class="s">"token"</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentOrder</span><span class="o">.</span><span class="n">payer</span> <span class="o">=</span> <span class="kt">PaymentOrderPayer</span><span class="p">(</span>
    <span class="nv">payerReference</span><span class="p">:</span> <span class="s">"user1234"</span>
<span class="p">)</span>
<span class="n">paymentOrder</span><span class="o">.</span><span class="n">paymentToken</span> <span class="o">=</span> <span class="s">"token"</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>Your backend implementation should have proper authentication to prevent misuse
of tokens. The example implementation will reject attempts to use
<code class="language-html highlighter-rouge">paymentToken</code> by default.</p>
    
      <h4 id="add-stored-payment-instrument-details">
        
        
          Add Stored Payment Instrument Details <a href="#add-stored-payment-instrument-details" class="header-anchor"></a>
        
        
      </h4>

<p>The Merchant Backend allows you to set
<code class="language-html highlighter-rouge">PaymentOrder.disableStoredPaymentDetails</code> to use this feature as described
in the <a href="/payment-menu/other-features#add-stored-payment-instrument-details">Payment Menu Documentation</a>.</p>

<p>As mentioned there, it is important that you have obtained consent from the
user for storing payment details beforehand, if you use this feature.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentOrder</span> <span class="p">=</span> <span class="nc">PaymentOrder</span><span class="p">(</span>
    <span class="o">..</span><span class="p">.,</span>
    <span class="n">disableStoredPaymentDetails</span> <span class="p">=</span> <span class="k">true</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentOrder</span><span class="o">.</span><span class="n">disableStoredPaymentDetails</span> <span class="o">=</span> <span class="kc">true</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="purchase-payments">
        
        
          Purchase Payments <a href="#purchase-payments" class="header-anchor"></a>
        
        
      </h2>

<p>The <code class="language-html highlighter-rouge">Purchase</code> operation is used in all common purchase scenarios.
It is the default in the SDK, so you usually do not need to specify it.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentOrder</span> <span class="p">=</span> <span class="nc">PaymentOrder</span><span class="p">(</span>
    <span class="n">operation</span> <span class="p">=</span> <span class="nc">Operation</span><span class="p">.</span><span class="nc">PURCHASE</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentOrder</span><span class="o">.</span><span class="n">operation</span> <span class="o">=</span> <span class="o">.</span><span class="kt">Purchase</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="verify-payments">
        
        
          Verify Payments <a href="#verify-payments" class="header-anchor"></a>
        
        
      </h2>

<p><code class="language-html highlighter-rouge">Verify</code> payments are also supported by the SDK</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentOrder</span> <span class="p">=</span> <span class="nc">PaymentOrder</span><span class="p">(</span>
    <span class="n">operation</span> <span class="p">=</span> <span class="nc">Operation</span><span class="p">.</span><span class="nc">VERIFY</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentOrder</span><span class="o">.</span><span class="n">operation</span> <span class="o">=</span> <span class="o">.</span><span class="kt">Verify</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="observing-the-payment-process">
        
        
          Observing the Payment Process <a href="#observing-the-payment-process" class="header-anchor"></a>
        
        
      </h2>

<p>Your application can observe the state of the payment and react accordingly.
At a minimum, your application must remove the SDK UI from view when the
payment is finished.</p>
    
      <h3 id="android">
        
        
          Android <a href="#android" class="header-anchor"></a>
        
        
      </h3>

<p>On Android, observe the <code class="language-html highlighter-rouge">state</code> or <code class="language-html highlighter-rouge">richState</code> of <code class="language-html highlighter-rouge">PaymentViewModel</code>.
The <code class="language-html highlighter-rouge">PaymentViewModel</code> of a <code class="language-html highlighter-rouge">PaymentFragment</code> is stored in its parent
<code class="language-html highlighter-rouge">Activity</code>. If you really need to have multiple <code class="language-html highlighter-rouge">PaymentFragment</code>s in
a single <code class="language-html highlighter-rouge">Activity</code>, you need to assign each a different key for their
<code class="language-html highlighter-rouge">PaymentViewModel</code>s
(use <code class="language-html highlighter-rouge">PaymentFragment.ArgumentsBuilder.viewModelProviderKey</code>).</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">paymentViewModel</span> <span class="p">=</span> <span class="nc">ViewModelProvider</span><span class="p">(</span><span class="n">activity</span><span class="p">)[</span><span class="nc">PaymentViewModel</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">]</span>
<span class="c1">// or use the activity.paymentViewModel convenience property</span>

<span class="n">paymentViewModel</span><span class="p">.</span><span class="n">richState</span><span class="p">.</span><span class="nf">observe</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span> <span class="p">{</span> <span class="n">richState</span> <span class="p">-&gt;</span>
    <span class="c1">// handle new state here</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>The process state is available at <code class="language-html highlighter-rouge">richState.state</code>, which has the following
cases:</p>

<ul>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.IDLE</code>: Not active</li>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.IN_PROGRESS</code>: Active; waiting for either network response or user interaction</li>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.UPDATING_PAYMENT_ORDER</code>: Updating the payment order (because you called <code class="language-html highlighter-rouge">updatePaymentOrder</code>)</li>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.COMPLETE</code>: Complete; you should hide the <code class="language-html highlighter-rouge">PaymentFragment</code> and check the payment status from your application servers</li>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.CANCELED</code>: Canceled by the user; you should hide the <code class="language-html highlighter-rouge">PaymentFragment</code>.</li>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.RETRYABLE_ERROR</code>: Payment could not proceed, but the error is not fatal. See below for options here.</li>
  <li>
<code class="language-html highlighter-rouge">PaymentViewModel.State.FAILURE</code>: Payment has failed. You should hide the <code class="language-html highlighter-rouge">PaymentFragment</code>.</li>
</ul>

<p>In the retryable error and failure states, the error that caused the failure is
available at <code class="language-html highlighter-rouge">richState.exception</code>. The exception is of any type thrown by
your Configuration. If the failure state was instead reached because Swedbank
Pay reported a <a href="/checkout/other-features#onerror">Terminal Failure</a>, that will be available at
<code class="language-html highlighter-rouge">richState.terminalFailure</code>.</p>

<p>When the <code class="language-html highlighter-rouge">PaymentFragment</code> is showing the payment menu of the payment order,
the corresponding <code class="language-html highlighter-rouge">ViewPaymentOrderInfo</code> is available at
<code class="language-html highlighter-rouge">richState.viewPaymentOrderInfo</code>. This is the value that your Configuration
returned to the SDK; if you are using Instrument Mode with the Merchant Backend
Configuration, you may be interested in the <code class="language-html highlighter-rouge">instrument</code> and
<code class="language-html highlighter-rouge">availableInstruments</code> fields to determine whether to show your instrument
selection UI.</p>
    
      <h4 id="retryable-errors">
        
        
          Retryable Errors <a href="#retryable-errors" class="header-anchor"></a>
        
        
      </h4>

<p>In the retryable error state, the <code class="language-html highlighter-rouge">PaymentFragment</code> will, by default, show
an error message with instructions to retry. You may disable this by setting
the desired default UI flags
(<code class="language-html highlighter-rouge">PaymentFragment.ArgumentsBuilder.setEnabledDefaultUI</code>). If you do wish to
provide your own UI for this state, you can call
<code class="language-html highlighter-rouge">paymentViewModel.retryPreviousAction()</code> to insruct the <code class="language-html highlighter-rouge">PaymentFragment</code> to
retry. A message describing the problem is available at
<code class="language-html highlighter-rouge">richState.retryableErrorMessage</code>.</p>
    
      <h4 id="overriding-terms-of-service-link">
        
        
          Overriding Terms of Service Link <a href="#overriding-terms-of-service-link" class="header-anchor"></a>
        
        
      </h4>

<p>By default, when the user taps on the Terms of Service link in the Payment
Menu, a new Activity will be started, which will display the linked web page.
However, you may wish to provide a native Terms of Service UI instead. To do
this, set a listener for the event by calling
<code class="language-html highlighter-rouge">paymentViewModel.setOnTermsOfServiceClickListener</code>.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code-view-code"><pre><span class="n">paymentViewModel</span><span class="p">.</span><span class="nf">setOnTermsOfServiceClickListener</span><span class="p">(</span><span class="n">lifecycleOwner</span><span class="p">)</span> <span class="p">{</span> <span class="n">paymentFragment</span><span class="p">,</span> <span class="n">url</span> <span class="p">-&gt;</span>
    <span class="c1">// show ToS UI</span>
    <span class="c1">// return true to disable the default behaviour</span>
    <span class="c1">// (alternatively, return false to continue with the default behaviour)</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="ios">
        
        
          iOS <a href="#ios" class="header-anchor"></a>
        
        
      </h3>

<p>On iOS, set a delegate to the <code class="language-html highlighter-rouge">SwedbankPaySDKController</code>. The delegate methods
will be called on state changes.</p>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td>
<td class="code-view-code"><pre><span class="n">swedbankPaySDKController</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>

<span class="c1">// ...</span>

<span class="kd">extension</span> <span class="kt">MyClass</span> <span class="p">:</span> <span class="kt">SwedbankPaySDKDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">paymentOrderDidShow</span><span class="p">(</span><span class="nv">info</span><span class="p">:</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">ViewPaymentOrderInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// A payment order is now shown;</span>
        <span class="c1">// info is the ViewPaymentOrderInfo value from your Configuration</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">paymentOrderDidHide</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// No payment order is now shown</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">updatePaymentOrderFailed</span><span class="p">(</span>
        <span class="nv">updateInfo</span><span class="p">:</span> <span class="kt">Any</span><span class="p">,</span>
        <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// An update failed; error is the error from your Configuration</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">paymentComplete</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Payment is complete; you should hide the SwedbankPaySDKController</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">paymentCanceled</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Payment canceled by user; you should hide the SwedbankPaySDKController</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">paymentFailed</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Payment failed. The error is either from your Configuration,</span>
        <span class="c1">// or a SwedbankPaySDKController.WebContentError</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">overrideTermsOfServiceTapped</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="c1">// Show custom Terms of Service UI, if needed.</span>
        <span class="c1">// Return true to disable the default behaviour,</span>
        <span class="c1">// false to allow SwedbankPaySDKController to show</span>
        <span class="c1">// the default ToS UI.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>Any errors are ones thrown by your Configuration, or, in the case of
<code class="language-html highlighter-rouge">paymentFailed</code>, <code class="language-html highlighter-rouge">SwedbankPaySDKController.WebContentError</code>.
<code class="language-html highlighter-rouge">SwedbankPaySDKController.WebContentError</code> has two cases:</p>

<ul>
  <li>.ScriptLoadingFailure(scriptUrl: URL?): The script failed to load. No error message is available; this is a limitation of WKWebView</li>
  <li>.ScriptError(SwedbankPaySDK.TerminalFailure?): The script made an <code class="language-html highlighter-rouge">onError</code> callback. The payload is the <a href="/checkout/other-features#onerror">Terminal Failure</a> reported by Swedbank Pay.</li>
</ul>

<p>When using the Merchant Backend Configuration, other errors will be of the type
<code class="language-html highlighter-rouge">SwedbankPaySDK.MerchantBackendError</code>.</p>
    
      <h2 id="problems">
        
        
          Problems <a href="#problems" class="header-anchor"></a>
        
        
      </h2>

<p>When using the Merchant Backend Configuration, most errors in the payment
process will result in <a href="/payment-menu/other-features#problems">Problem</a> responses from the backend.
The SDK contains utilities for processing these in your application.</p>

<p>On Android, if any operation fails due to a Problem, the resulting exception
will be of the type <code class="language-html highlighter-rouge">RequestProblemException</code>, which allows access to the
<code class="language-html highlighter-rouge">Problem</code> object. <code class="language-html highlighter-rouge">Problem</code> is a JVM representation of the Problem JSON
response, allowing for easy access to standard fields. You are free to use
<code class="language-html highlighter-rouge">Problem</code> as-is for modeling your own problem types. The Merchant Backend
Configuration further defines a subclass of <code class="language-html highlighter-rouge">Problem</code>,
<code class="language-html highlighter-rouge">MerchantBackendProblem</code>, which is a sealed class containg all the problem
types expected to occur with a Merchant Backend server. All problems reported
by the Merchant Backenc Configuration are of this type, allowing you to use
kotlin’s powerful <code class="language-html highlighter-rouge">when</code> expression to handle the different errors:</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
<td class="code-view-code"><pre><span class="k">when</span> <span class="p">(</span><span class="n">problem</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">is</span> <span class="nc">MerchantBackendProblem</span><span class="p">.</span><span class="nc">Client</span><span class="p">.</span><span class="nc">MobileSDK</span><span class="p">.</span><span class="nc">Unauthorized</span> <span class="p">-&gt;</span>
        <span class="nf">handleUnauthorized</span><span class="p">()</span>
    <span class="k">is</span> <span class="nc">MerchantBackendProblem</span><span class="p">.</span><span class="nc">Client</span> <span class="p">-&gt;</span>
        <span class="nf">handleOtherClientError</span><span class="p">()</span>
    <span class="k">is</span> <span class="nc">MerchantBackendProblem</span><span class="p">.</span><span class="nc">Server</span><span class="p">.</span><span class="nc">MobileSDK</span> <span class="p">-&gt;</span>
        <span class="nf">handleMerchantBackendError</span><span class="p">()</span>
    <span class="k">is</span> <span class="nc">MerchantBackendProblem</span><span class="p">.</span><span class="nc">Server</span><span class="p">.</span><span class="nc">SwedbankPay</span><span class="p">.</span><span class="nc">ConfigurationError</span> <span class="p">-&gt;</span>
        <span class="nf">handleConfigurationError</span><span class="p">()</span>
    <span class="k">is</span> <span class="nc">MerchantBackendProblem</span><span class="p">.</span><span class="nc">Server</span><span class="p">.</span><span class="nc">SwedbankPay</span> <span class="p">-&gt;</span>
        <span class="nf">handleSwedbankPayError</span><span class="p">()</span>
    <span class="k">else</span> <span class="p">-&gt;</span>
        <span class="nf">handleUnknownError</span><span class="p">()</span>

<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>On iOS, if any operation fails due to a Problem, the resultig error will be
<code class="language-html highlighter-rouge">SwedbankPaySDK.MerchantBackendError.problem</code>, and it will have the problem
as an associated value, of type <code class="language-html highlighter-rouge">SwedbankPaySDK.Problem</code>.
<code class="language-html highlighter-rouge">SwedbankPaySDK.Problem</code> is a enum with a similar structure to the Android
<code class="language-html highlighter-rouge">MerchantBackendProblem</code>, allowing for idiomatic error handling.</p>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
<td class="code-view-code"><pre><span class="k">if</span> <span class="k">case</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">MerchantBackendError</span><span class="o">.</span><span class="nf">problem</span><span class="p">(</span><span class="k">let</span> <span class="nv">problem</span><span class="p">)</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="n">problem</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">client</span><span class="p">(</span><span class="o">.</span><span class="nf">mobileSDK</span><span class="p">(</span><span class="o">.</span><span class="n">unauthorized</span><span class="p">)):</span>
        <span class="nf">handleUnauthorized</span><span class="p">()</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">client</span><span class="p">:</span>
        <span class="nf">handleOtherClientError</span><span class="p">()</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">server</span><span class="p">(</span><span class="o">.</span><span class="n">mobileSDK</span><span class="p">):</span>
        <span class="nf">handleMerchantBackendError</span><span class="p">()</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">server</span><span class="p">(</span><span class="o">.</span><span class="n">swedbankPay</span><span class="p">):</span>
        <span class="nf">handleSwedbankPayError</span><span class="p">()</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="nf">handleUnknownError</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="android-view-model-provider-key">
        
        
          Android: View Model Provider Key <a href="#android-view-model-provider-key" class="header-anchor"></a>
        
        
      </h2>

<p>On Android, you communicate with a <code class="language-html highlighter-rouge">PaymentFragment</code> through a
<code class="language-html highlighter-rouge">PaymentViewModel</code> that is stored in the <code class="language-html highlighter-rouge">FragmentActivity</code> containing the
<code class="language-html highlighter-rouge">PaymentFragment</code>. Normally this means that a single Activity can only contain
one <code class="language-html highlighter-rouge">PaymentFragment</code>. This should not usually be a problem, but for advanced
use cases, you can manually set the storage key for the <code class="language-html highlighter-rouge">PaymentViewModel</code>
of a given <code class="language-html highlighter-rouge">PaymentFragment</code>, allowing for multiple instances to coexist in a
single Activity. Further use of multiple simultaneous <code class="language-html highlighter-rouge">PaymentFragment</code>s is
beyond the scope of this document.</p>

<p>The key is set as an argument to the <code class="language-html highlighter-rouge">PaymentFragment</code>. You can either use
the <code class="language-html highlighter-rouge">PaymentFragment.ArgumentsBuilder</code> to build the argument bundle
(recommended), or you can manually set a value for the key
<code class="language-html highlighter-rouge">PaymentFragment.ARG_VIEW_MODEL_PROVIDER_KEY</code>.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">arguments</span> <span class="p">=</span> <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ArgumentsBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">paymentOrder</span><span class="p">(</span><span class="n">paymentOrder</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">viewModelProviderKey</span><span class="p">(</span><span class="s">"PaymentViewModelOne"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">build</span><span class="p">()</span>

<span class="kd">val</span> <span class="py">manualArguments</span> <span class="p">=</span> <span class="nc">Bundle</span><span class="p">()</span>
<span class="n">manualArguments</span><span class="p">.</span><span class="nf">putString</span><span class="p">(</span>
    <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ARG_VIEW_MODEL_PROVIDER_KEY</span><span class="p">,</span>
    <span class="s">"PaymentViewModelTwo"</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="android-default-ui">
        
        
          Android: Default UI <a href="#android-default-ui" class="header-anchor"></a>
        
        
      </h2>

<p><code class="language-html highlighter-rouge">PaymentFragment</code> is very plain; in normal use it will only contain a progress
indicator and/or a WebView. For error conditions that may be resolved by a
simple retry, however, it will, by default show a message and a pull-to-refresh
control. If desired, this UI can be disabled. In addition, is a completion
message and an error message available. Those are unlikely to be useful in
production, but can be enabled for development, if desired.</p>

<p>This feature is also controller by an argument. This argument is an integer
representing flag bits.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">arguments</span> <span class="p">=</span> <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ArgumentsBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">paymentOrder</span><span class="p">(</span><span class="n">paymentOrder</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">setEnabledDefaultUI</span><span class="p">()</span> <span class="c1">// enable nothing</span>
    <span class="p">.</span><span class="nf">build</span><span class="p">()</span>

<span class="kd">val</span> <span class="py">manualArguments</span> <span class="p">=</span> <span class="nc">Bundle</span><span class="p">()</span>
<span class="n">manualArguments</span><span class="p">.</span><span class="nf">putInt</span><span class="p">(</span>
    <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ARG_ENABLED_DEFAULT_UI</span><span class="p">,</span>
    <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">RETRY_PROMPT</span> <span class="n">or</span> <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ERROR_MESSAGE</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h2 id="debugging-features">
        
        
          Debugging Features <a href="#debugging-features" class="header-anchor"></a>
        
        
      </h2>

<p>To help with investigating problematic scenarios, the SDK has some debugging
features.</p>
    
      <h3 id="android-1">
        
        
          Android <a href="#android-1" class="header-anchor"></a>
        
        
      </h3>

<p>The SDK normally attempts to keep the payment flow inside a WebView as far as
possible. In case some payment instrument fails to work properly, it may be
helpful to see if it is related to the WebView. To allow this, you can set a
flag to immediately move the payment process to the browser app when it
navigates away from the payment menu. In particular, if some card issuer’s flow
opens a third-party application, but the process fails to return to your app,
you should see if this option makes any difference.</p>

<p>Testing your application with this option enabled can also be useful in
ascertaining that your “Android Intent callback” endpoint is working properly.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">arguments</span> <span class="p">=</span> <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ArgumentsBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">paymentOrder</span><span class="p">(</span><span class="n">paymentOrder</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">useBrowser</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">build</span><span class="p">()</span>

<span class="kd">val</span> <span class="py">manualArguments</span> <span class="p">=</span> <span class="nc">Bundle</span><span class="p">()</span>
<span class="n">manualArguments</span><span class="p">.</span><span class="nf">putBoolean</span><span class="p">(</span>
    <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ARG_USE_BROWSER</span><span class="p">,</span>
    <span class="k">true</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>If a payment flow should open a third-party application, but this does not
happen as expected, you can set a flag to display error dialogs when web
content attempts to start an Activity, but it fails.</p>

<p class="code-view-header"><strong>Android</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td>
<td class="code-view-code"><pre><span class="kd">val</span> <span class="py">arguments</span> <span class="p">=</span> <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ArgumentsBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">paymentOrder</span><span class="p">(</span><span class="n">paymentOrder</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">debugIntentUris</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">build</span><span class="p">()</span>

<span class="kd">val</span> <span class="py">manualArguments</span> <span class="p">=</span> <span class="nc">Bundle</span><span class="p">()</span>
<span class="n">manualArguments</span><span class="p">.</span><span class="nf">putBoolean</span><span class="p">(</span>
    <span class="nc">PaymentFragment</span><span class="p">.</span><span class="nc">ARG_DEBUG_INTENT_URIS</span><span class="p">,</span>
    <span class="k">true</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
    
      <h3 id="ios-1">
        
        
          iOS <a href="#ios-1" class="header-anchor"></a>
        
        
      </h3>

<p>As explained in the <a href="/modules-sdks/mobile-sdk/ios#payment-url-and-external-applications">iOS documentation</a>, the iOS SDK will,
in some cases, open navigations out of the payment menu in Safari rather than
the WKWebView. The SDK contains a list of redirects that we have tested to be
working, but, of course, this list can be neither complete not correct for all
time. If you enounter a payment flow that opens in the WKWebView (i.e. does not
open in Safari), but that does not work correctly, you can make all navigations
go to Safari to check if the flow has become incompatible with WKWebView. On
the other hand, if you encounter a payment flow that opens in Safari and wish
to investigate if it would work in the web view instead, you can make all
navigations open in the web view.</p>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code-view-code"><pre><span class="n">swedbankPaySDKController</span><span class="o">.</span><span class="n">webRedirectBehavior</span> <span class="o">=</span> <span class="o">.</span><span class="kt">AlwaysUseWebView</span>

<span class="n">swedbankPaySDKController</span><span class="o">.</span><span class="n">webRedirectBehavior</span> <span class="o">=</span> <span class="o">.</span><span class="kt">AlwaysUseBrowser</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>If you have set <code class="language-html highlighter-rouge">.AlwaysUseBrowser</code> and discovered a site that works with
WKWebView, you can set a <code class="language-html highlighter-rouge">webNavigationLogger</code> to your
<code class="language-html highlighter-rouge">SwedbankPaySDKController</code> and make note of the URL. Then, modify your
Configuration to allow that URL to be opened in the WKWebView. If using
the Merchant Backend Configuration, add a <code class="language-html highlighter-rouge">additionalAllowedWebViewRedirects</code>
argument to your initializer. If using a custom Configuration, change your
<code class="language-html highlighter-rouge">decidePolicyForPaymentMenuRedirect</code> implementation accordingly.</p>

<p class="code-view-header"><strong>iOS</strong></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
</pre></td>
<td class="code-view-code"><pre><span class="n">swedbankPaySDKController</span><span class="o">.</span><span class="n">webNavigationLogger</span> <span class="o">=</span> <span class="p">{</span> <span class="n">url</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="code-view-code"><pre><span class="k">let</span> <span class="nv">configuration</span> <span class="o">=</span> <span class="kt">SwedbankPaySDK</span><span class="o">.</span><span class="kt">MerchantBackendConfiguration</span><span class="p">(</span>
    <span class="nv">backendUrl</span><span class="p">:</span> <span class="n">backendUrl</span><span class="p">,</span>
    <span class="nv">additionalAllowedWebViewRedirects</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="kt">Domain</span><span class="p">(</span><span class="s">"example.com"</span><span class="p">)]</span>
<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>After you have verified that a domain works with WKWebView, please file an
<a href="https://github.com/SwedbankPay/swedbank-pay-sdk-ios/issues">issue</a> to have it added to the SDK’s bundled list.</p>

<nav class="iterator d-flex">
    
    <a class="mr-auto btn btn-secondary" role="button" rel="prev" href="custom-backend">
        Back: Custom Backend
    </a>
    

    
    <a class="ml-auto btn btn-secondary" role="button" rel="next" href="process-diagrams">
        Next: Process Diagrams
    </a>
    
</nav>
                            </article>
                        </div>
                    </main>
                </div>
            </div>
        </div>
        <script src="https://design.swedbankpay.com/v/5.0.1/scripts/dg.js"></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

    </body>

</html>
